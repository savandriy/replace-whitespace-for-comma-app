<!DOCTYPE html>
<html lang="en">
<head>
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.4.1/css/bootstrap.min.css"
          integrity="sha384-Vkoo8x4CGsO3+Hhxv8T/Q5PaXtkKtu6ug5TOeNV6gBiFeWPGFN9MuhOf23Q9Ifjh" crossorigin="anonymous">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/popper.js@1.16.0/dist/umd/popper.min.js"
            integrity="sha384-Q6E9RHvbIyZFJoft+2mJbHaEWldlvI9IOYy5n3zV9zzTtmI3UksdQRVvoxMfooAo"
            crossorigin="anonymous"></script>
    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.4.1/js/bootstrap.min.js"
            integrity="sha384-wfSDF2E50Y2D1uUdj0O3uMBJnjuUD4Ih7YwaYd1iqfktj0Uod8GCExl3Og8ifwB6"
            crossorigin="anonymous"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
</head>
<body>
<script>
    function replaceWhitespaceWithCommas() {
        let inputData = document.getElementById("textarea-input").value;
        let output = inputData.trim().split(/\s+/).join(',');
        copyToClipboard(output);
        $('.card-text').text(output);
        // show only if there's what to show
        if (output.length) {
            $('.card').show();
        } else {
            $('.card').hide();
        }

        $('#textarea-input').focus()
    }

    function clearInputs() {
        console.log('clear');
        $('#textarea-input').val('');
    }

    function copyResult() {
        let resultText = $('.card-text').text();
        copyToClipboard(resultText);
    }

    function copyToClipboard(text) {
        let dummy = document.createElement("textarea");
        // to avoid breaking again page when copying more words
        // cant copy when adding below this code
        // dummy.style.display = 'none'
        document.body.appendChild(dummy);
        //Be careful if you use textarea. setAttribute('value', value), which works with "input" does not work with "textarea". â€“ Eduard
        dummy.value = text;
        dummy.select();
        document.execCommand("copy");
        document.body.removeChild(dummy);
    }
</script>


<div class="container">
    <h2>Quick replace whitespace for comma | Created by @savandriy &trade;</h2>

    <div class="btn-group" style="margin-bottom: 5px">
        <button type="button" class="btn btn-danger btn-lg" onclick="clearInputs()">Clear <i class="fa fa-times"></i></button>
        <button class="btn btn-primary" type="button" onclick="copyResult()">Copy last result</button>
    </div>
    <div class="input-group">
        <textarea id="textarea-input" class="form-control" placeholder="Paste data here"
                  style="min-height: 500px" oninput="replaceWhitespaceWithCommas()"></textarea>
        <div class="input-group-append">
            <div class="btn-group-vertical">
            </div>
        </div>
    </div>

    <div class="card" style="margin-top: 50px; display: none">
        <div class="card-header">
            Result:
        </div>
        <div class="card-body">
            <p class="card-text"></p>
        </div>
    </div>
</div>

</body>
</html>